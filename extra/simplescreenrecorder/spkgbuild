# description	: A feature-rich screen recorder that supports X11 and OpenGL
# depends	: ffmpeg glu mesa qt5
# makedepends	: cmake
# optdepends	: pulseaudio jack

name=simplescreenrecorder
version=0.3.10
release=1
source=(https://github.com/MaartenBaert/ssr/archive/$version/ssr-$version.tar.gz)

build() {
	cd ssr-$version

	[ -e /usr/lib/pkgconfig/libpulse.pc ] || SSRCONF+=' -DWITH_PULSEAUDIO=FALSE'
	[ -e /usr/lib/pkgconfig/jack.pc ] || SSRCONF+=' -DWITH_JACK=FALSE'

	mkdir build
	cd build

	cmake -DCMAKE_INSTALL_PREFIX="/usr" \
	      -DCMAKE_BUILD_TYPE=Release \
	      -DWITH_QT5=TRUE \
	      ${SSRCONF} \
	..
	make
	make DESTDIR=$PKG install
}
