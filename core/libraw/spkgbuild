# description	: Library for reading RAW files obtained from digital photo cameras
# homepage	: http://www.libraw.org/
# maintainer	: Emmett1, emmett1.2miligrams at gmail.com
# depends	: jasper lcms2 libjpeg-turbo 

name=libraw
version=0.18.7
release=1
source=(http://www.libraw.org/data/LibRaw-$version.tar.gz)

build() {
	cd LibRaw-$version

	# Glibc from v2.27 onwards now provides powf64()
	# Rename the internal version so that the package will build
	sed -i "s#powf64#dc_&#g" internal/dcraw_common.cpp

	./configure --prefix=/usr    \
	            --enable-jpeg    \
	            --enable-jasper  \
	            --enable-lcms    \
	            --disable-static
	make
	make PREFIX=/usr DESTDIR=$PKG install
}
