# description	    : Hardware integration and detection
# homepage	    : https://community.kde.org/Frameworks
# depends	    : qt5 udisks2 extra-cmake-modules doxygen

name=solid
version=5.99.0
release=1
source="https://download.kde.org/stable/frameworks/${version%.*}/$name-$version.tar.xz"

build() {
  cmake -B build -S $name-$version \
    -DBUILD_TESTING=OFF \
    -DBUILD_QCH=ON \
    -DWITH_NEW_POWER_ASYNC_API=ON \
    -DWITH_NEW_POWER_ASYNC_FREEDESKTOP=ON \
    -DWITH_NEW_SOLID_JOB=ON # https://bugs.archlinux.org/task/64093
  cmake --build build
  DESTDIR=$PKG cmake --install build
}
